<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>é€€è´§ç‡åˆ—éšè—/æ˜¾ç¤ºåŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #555;
            margin-bottom: 15px;
        }
        .feature-description {
            background: #e8f4fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .feature-description h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .feature-description ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .feature-description li {
            margin: 5px 0;
        }
        .toggle-button {
            background: #f3f4f6;
            color: #6b7280;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 4px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            line-height: 16px;
        }
        .toggle-button:hover {
            background: #e5e7eb;
        }
        .return-rate-column {
            /* é»˜è®¤æ˜¾ç¤º */
        }
        .return-rate-column input[data-key="returnRate"] {
            /* é»˜è®¤æ˜¾ç¤ºè¾“å…¥æ¡†å†…å®¹ */
        }
        .return-rate-column input[data-key="returnRate"].hidden {
            color: transparent !important;
            text-shadow: none !important;
        }
        .catalog-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .catalog-table th,
        .catalog-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .catalog-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        .catalog-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        .demo-input {
            width: 80px;
            padding: 4px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
        }
        .demo-button {
            background: #bfdbfe;
            color: #2563eb;
            border: none;
            padding: 4px 8px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            margin: 2px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            line-height: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .demo-remove-button {
            background: #fecaca;
            color: #dc2626;
        }
        .status-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status-visible {
            background: #d1fae5;
            color: #065f46;
        }
        .status-hidden {
            background: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>é€€è´§ç‡è¾“å…¥æ¡†å†…å®¹éšè—/æ˜¾ç¤ºåŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="feature-description">
            <h3>åŠŸèƒ½è¯´æ˜</h3>
            <p>å·²ä¸ºå•†å“æ¸…å•è¡¨æ ¼çš„é€€è´§ç‡åˆ—æ·»åŠ ä¸€é”®éšè—/æ˜¾ç¤ºåŠŸèƒ½ï¼š</p>
            <ul>
                <li><strong>åˆ‡æ¢æŒ‰é’®</strong>ï¼šåœ¨é€€è´§ç‡åˆ—æ ‡é¢˜æ—æ·»åŠ äº†ä¸€ä¸ªçœ¼ç›å›¾æ ‡æŒ‰é’®</li>
                <li><strong>é»˜è®¤çŠ¶æ€</strong>ï¼šé»˜è®¤æ˜¾ç¤ºé€€è´§ç‡åˆ—</li>
                <li><strong>çŠ¶æ€è®°å¿†</strong>ï¼šä½¿ç”¨localStorageä¿å­˜ç”¨æˆ·çš„æ˜¾ç¤ºåå¥½</li>
                <li><strong>å›¾æ ‡å˜åŒ–</strong>ï¼šğŸ‘ è¡¨ç¤ºæ˜¾ç¤ºçŠ¶æ€ï¼ŒğŸ‘â€ğŸ—¨ï¸ è¡¨ç¤ºéšè—çŠ¶æ€</li>
                <li><strong>æ™ºèƒ½éšè—</strong>ï¼šç‚¹å‡»æŒ‰é’®å¯éšè—/æ˜¾ç¤ºé€€è´§ç‡è¾“å…¥æ¡†çš„æ•°å­—å†…å®¹ï¼Œä¿æŒåˆ—å¯¹é½</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>åŠŸèƒ½æ¼”ç¤º</h2>
            <p>ç‚¹å‡»é€€è´§ç‡åˆ—æ ‡é¢˜æ—çš„æŒ‰é’®æ¥æµ‹è¯•éšè—/æ˜¾ç¤ºè¾“å…¥æ¡†å†…å®¹åŠŸèƒ½ï¼š</p>
            
            <div id="statusDisplay" class="status-indicator status-visible">
                çŠ¶æ€ï¼šè¾“å…¥æ¡†å†…å®¹æ˜¾ç¤ºä¸­
            </div>
            
            <table class="catalog-table">
                <thead>
                    <tr>
                        <th style="width:36px; text-align:center;">
                            <input type="checkbox">
                        </th>
                        <th style="width:120px;">å•†å“åç§°</th>
                        <th style="width:100px;">è´§å·</th>
                        <th style="width:80px;">å¹³å°</th>
                        <th style="width:80px;">å«ç¨å”®ä»·P</th>
                        <th style="width:180px;">å«ç¨å”®ä»·ï¼ˆå¤šæ¡£ï¼‰</th>
                        <th style="width:140px;">è¿›è´§ä»·ï¼ˆå¤šæ¡£ï¼‰</th>
                        <th class="return-rate-column" style="width:70px;">
                            é€€è´§ç‡ 
                            <button id="returnRateToggle" class="toggle-button" title="ç‚¹å‡»éšè—/æ˜¾ç¤ºé€€è´§ç‡åˆ—">ğŸ‘</button>
                        </th>
                        <th style="width:100px;">ä¿æœ¬ROI</th>
                        <th style="width:120px;">ä¿æœ¬å¹¿å‘Šå æ¯”</th>
                        <th style="width:100px;">åˆ©æ¶¦ç‡(20%ä»˜è´¹)</th>
                        <th style="width:140px;">æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="text-align:center;">
                            <input type="checkbox">
                        </td>
                        <td>æµ‹è¯•å•†å“A</td>
                        <td>TEST001</td>
                        <td>æ·˜å®</td>
                        <td style="text-align:right;">100.00</td>
                        <td style="text-align:right;">
                            <div style="display:flex; flex-direction:column; gap:4px;">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <button class="demo-button">+</button>
                                    <div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="100" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="95" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td style="text-align:right;">
                            <div style="display:flex; flex-direction:column; gap:4px;">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <button class="demo-button">+</button>
                                    <div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="60" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="58" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="return-rate-column" style="text-align:right;">
                            <input type="text" class="demo-input" value="15%" readonly>
                        </td>
                        <td style="text-align:right;">2.50</td>
                        <td style="text-align:right;">25.00%</td>
                        <td style="text-align:right; color:#059669; font-weight:600;">12.50%</td>
                        <td style="text-align:center;">
                            <button style="background:#007bff; color:white; border:none; padding:4px 8px; border-radius:4px; cursor:pointer;">ä»·æ ¼éªŒè¯</button>
                            <button style="background:#28a745; color:white; border:none; padding:4px 8px; border-radius:4px; cursor:pointer; margin-left:4px;">åˆ©æ¶¦æ¨æ¼”</button>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align:center;">
                            <input type="checkbox">
                        </td>
                        <td>æµ‹è¯•å•†å“B</td>
                        <td>TEST002</td>
                        <td>äº¬ä¸œ</td>
                        <td style="text-align:right;">150.00</td>
                        <td style="text-align:right;">
                            <div style="display:flex; flex-direction:column; gap:4px;">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <button class="demo-button">+</button>
                                    <div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="150" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="140" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td style="text-align:right;">
                            <div style="display:flex; flex-direction:column; gap:4px;">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <button class="demo-button">+</button>
                                    <div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="80" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                        <div style="display:flex; gap:6px; align-items:center; margin:2px 0;">
                                            <input type="number" class="demo-input" value="75" readonly>
                                            <button class="demo-button demo-remove-button">Ã—</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="return-rate-column" style="text-align:right;">
                            <input type="text" class="demo-input" value="20%" readonly>
                        </td>
                        <td style="text-align:right;">3.20</td>
                        <td style="text-align:right;">30.00%</td>
                        <td style="text-align:right; color:#059669; font-weight:600;">18.75%</td>
                        <td style="text-align:center;">
                            <button style="background:#007bff; color:white; border:none; padding:4px 8px; border-radius:4px; cursor:pointer;">ä»·æ ¼éªŒè¯</button>
                            <button style="background:#28a745; color:white; border:none; padding:4px 8px; border-radius:4px; cursor:pointer; margin-left:4px;">åˆ©æ¶¦æ¨æ¼”</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="test-section">
            <h2>æŠ€æœ¯å®ç°</h2>
            <p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
            <ul>
                <li><strong>CSSç±»æ§åˆ¶</strong>ï¼šä½¿ç”¨ <code>.return-rate-column</code> ç±»æ ‡è¯†é€€è´§ç‡åˆ—</li>
                <li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šé€šè¿‡ <code>localStorage</code> ä¿å­˜æ˜¾ç¤ºçŠ¶æ€</li>
                <li><strong>æ™ºèƒ½éšè—</strong>ï¼šç‚¹å‡»æŒ‰é’®æ—¶åŠ¨æ€ä¿®æ”¹è¾“å…¥æ¡†çš„ <code>color</code> æ ·å¼ä¸ºé€æ˜</li>
                <li><strong>å›¾æ ‡å˜åŒ–</strong>ï¼šæ ¹æ®çŠ¶æ€æ˜¾ç¤ºä¸åŒçš„çœ¼ç›å›¾æ ‡</li>
                <li><strong>åˆ—å¯¹é½ä¿æŒ</strong>ï¼šåªéšè—è¾“å…¥æ¡†å†…å®¹ï¼Œä¿æŒåˆ—ç»“æ„å’Œå¯¹é½</li>
            </ul>
            
            <p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
            <ol>
                <li>åœ¨å•†å“æ¸…å•è¡¨æ ¼ä¸­æ‰¾åˆ°é€€è´§ç‡åˆ—æ ‡é¢˜</li>
                <li>ç‚¹å‡»æ ‡é¢˜æ—çš„ ğŸ‘ æŒ‰é’®éšè—è¾“å…¥æ¡†å†…å®¹</li>
                <li>å†æ¬¡ç‚¹å‡» ğŸ‘â€ğŸ—¨ï¸ æŒ‰é’®æ˜¾ç¤ºè¾“å…¥æ¡†å†…å®¹</li>
                <li>ç³»ç»Ÿä¼šè‡ªåŠ¨è®°ä½æ‚¨çš„åå¥½è®¾ç½®</li>
            </ol>
            
            <p><strong>ä¼˜åŠ¿ï¼š</strong></p>
            <ul>
                <li><strong>ä¿æŒå¯¹é½</strong>ï¼šä¸ä¼šå½±å“å…¶ä»–åˆ—çš„ä½ç½®å’Œå¯¹é½</li>
                <li><strong>ç»“æ„å®Œæ•´</strong>ï¼šåˆ—æ ‡é¢˜å’Œè¾“å…¥æ¡†æ¡†æ¶ä¿æŒå¯è§</li>
                <li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šåªéšè—æ•æ„Ÿæ•°æ®ï¼Œä¿æŒç•Œé¢å®Œæ•´æ€§</li>
            </ul>
        </div>
    </div>

    <script>
        // é€€è´§ç‡åˆ—éšè—/æ˜¾ç¤ºåŠŸèƒ½
        const returnRateToggle = document.getElementById('returnRateToggle');
        const statusDisplay = document.getElementById('statusDisplay');
        
        if (returnRateToggle) {
            // ä»localStorageè·å–é€€è´§ç‡åˆ—çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º
            const returnRateVisible = localStorage.getItem('returnRateColumnVisible') !== 'false';
            
            // è®¾ç½®åˆå§‹çŠ¶æ€
            if (!returnRateVisible) {
                // éšè—é€€è´§ç‡è¾“å…¥æ¡†çš„å†…å®¹
                document.querySelectorAll('.return-rate-column input[data-key="returnRate"]').forEach(input => {
                    input.style.color = 'transparent';
                    input.style.textShadow = 'none';
                });
                returnRateToggle.textContent = 'ğŸ‘â€ğŸ—¨ï¸'; // éšè—çŠ¶æ€å›¾æ ‡
                returnRateToggle.title = 'ç‚¹å‡»æ˜¾ç¤ºé€€è´§ç‡åˆ—';
                updateStatusDisplay(false);
            }
            
            // æ·»åŠ ç‚¹å‡»äº‹ä»¶
            returnRateToggle.addEventListener('click', () => {
                const inputs = document.querySelectorAll('.return-rate-column input[data-key="returnRate"]');
                const isVisible = inputs[0].style.color !== 'transparent';
                
                if (isVisible) {
                    // éšè—è¾“å…¥æ¡†å†…å®¹
                    inputs.forEach(input => {
                        input.style.color = 'transparent';
                    });
                    returnRateToggle.textContent = 'ğŸ‘â€ğŸ—¨ï¸'; // éšè—çŠ¶æ€å›¾æ ‡
                    returnRateToggle.title = 'ç‚¹å‡»æ˜¾ç¤ºé€€è´§ç‡åˆ—';
                    localStorage.setItem('returnRateColumnVisible', 'false');
                    updateStatusDisplay(false);
                } else {
                    // æ˜¾ç¤ºè¾“å…¥æ¡†å†…å®¹
                    inputs.forEach(input => {
                        input.style.color = '';
                    });
                    returnRateToggle.textContent = 'ğŸ‘'; // æ˜¾ç¤ºçŠ¶æ€å›¾æ ‡
                    returnRateToggle.title = 'ç‚¹å‡»éšè—é€€è´§ç‡åˆ—';
                    localStorage.setItem('returnRateColumnVisible', 'true');
                    updateStatusDisplay(true);
                }
            });
        }
        
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatusDisplay(isVisible) {
            if (statusDisplay) {
                if (isVisible) {
                    statusDisplay.textContent = 'çŠ¶æ€ï¼šè¾“å…¥æ¡†å†…å®¹æ˜¾ç¤ºä¸­';
                    statusDisplay.className = 'status-indicator status-visible';
                } else {
                    statusDisplay.textContent = 'çŠ¶æ€ï¼šè¾“å…¥æ¡†å†…å®¹å·²éšè—';
                    statusDisplay.className = 'status-indicator status-hidden';
                }
            }
        }
        
        // åˆå§‹åŒ–çŠ¶æ€æ˜¾ç¤º
        updateStatusDisplay(localStorage.getItem('returnRateColumnVisible') !== 'false');
    </script>
</body>
</html>
